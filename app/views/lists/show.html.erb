<div class="container">
  <div class="row">
    <!-- Colonne image -->
    <div class="col-md-4">
      <% if @list.photos.attached? %>
        <%= cl_image_tag @list.photos.first.key,
                         height: 400,
                         width: 300,
                         crop: :fill,
                         class: "img-fluid rounded shadow" %>
      <% else %>
        <div class="bg-light p-5 text-center rounded">
          <h3 class="text-muted">📽️ Pas d'image</h3>
        </div>
      <% end %>
    </div>

    <!-- Colonne contenu -->
    <div class="col-md-8">
      <h1><%= @list.name %></h1>

      <h3>Films dans cette liste :</h3>
      <div class="list-group mb-3">
        <% @bookmarks.each do |bookmark| %>
          <div class="list-group-item d-flex justify-content-between align-items-center">
            <div>
              <strong><%= bookmark.movie.title %></strong>
              <p class="mb-0 text-muted"><%= bookmark.comment %></p>
            </div>
            <%= link_to "Supprimer",
                        bookmark_path(bookmark),
                        data: { turbo_method: :delete, turbo_confirm: "Êtes-vous sûr ?" },
                        class: "btn btn-sm btn-outline-danger" %>
          </div>
        <% end %>
      </div>

      <!-- Boutons d'action -->
      <div class="d-flex gap-2">
        <%= link_to "Ajouter un film",
                    new_list_bookmark_path(@list),
                    class: "btn btn-success" %>
        <%= link_to "Retour aux listes",
                    lists_path,
                    class: "btn btn-secondary" %>
        <%= link_to "Supprimer cette liste",
                    list_path(@list),
                    data: { turbo_method: :delete, turbo_confirm: "Êtes-vous sûr ?" },
                    class: "btn btn-danger" %>
      </div>
    </div>
  </div>
</div>
